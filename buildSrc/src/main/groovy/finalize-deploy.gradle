
def isSnapshot = version.endsWith("-SNAPSHOT")
def isMilestone = !isSnapshot && (version.contains("-M") || version.contains("-RC"))

def finalizeDeployArtifacts = project.task("finalizeDeployArtifacts")
if (!isSnapshot && !isMilestone && project.hasProperty("sonatypeUsername")) {
    finalizeDeployArtifacts.dependsOn 'closeAndReleaseStagingRepository'
}
